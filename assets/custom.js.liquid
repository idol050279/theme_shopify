jQuery(document).ready(function(){
  jQuery('.search_span').click(function(){
    if(jQuery(this).hasClass('active')){
    	jQuery(this).removeClass('active');
      	jQuery(this).next().find('.header-bar__search-input[type="search"]').hide();
    }else{
    	jQuery(this).addClass('active');
        jQuery(this).next().find('.header-bar__search-input[type="search"]').show();
    }
  });
  jQuery('a.product-single__thumbnail').click(function(){
    if(!$(this).hasClass('active')){
    	jQuery('a.product-single__thumbnail').removeClass('active');
      	$(this).addClass('active');
    }
  });
  jQuery('.pslider_arrows .left').click(function(){
  		jQuery('a.product-single__thumbnail.active').parent().prev().children('a').click();
  });
  jQuery('.pslider_arrows .right').click(function(){
  		jQuery('a.product-single__thumbnail.active').parent().next().children('a').click();
  });
  jQuery('#MobileNavTrigger_sticky').click(function(){
    if(jQuery(this).hasClass('active')){
    	jQuery(this).removeClass('active');
      	jQuery('#MobileNav_sticky').hide();
    }else{
    	jQuery(this).addClass('active');
        jQuery('#MobileNav_sticky').show();
    }
  });
  
  $('.filter-group h4').click(function(){
  	$(this).parent().find('.scroll-content').slideToggle( "slow");
  });
  if($('#filter_trigger').length >0){
    $('#filter_trigger').click(function(){      
      $('.filter_group_wrap').slideToggle( "slow");
    });
  }
  
  var start_at = 0;
  $('.sidemenu li').each(function(i) {
    if($(this).hasClass('active')){
    	start_at = i;	
    }  
  });
                         
  if($(window).width() < 769){
  	$('.sidebar_menu').flexslider({
      animation: "slide",
      startAt: start_at,
      slideshow: false,
      animationLoop: true,   
      minItems: 1,      
      directionNav: true,
      controlNav: false,
      move: 1,
      slideshowSpeed: 3000,           
      itemMargin: 1
    });
  }
   
  
});

$(window).load(function() {
  
  $('.prod_slider').flexslider({
      animation: "slide",
      animationLoop: true,      
      touch: true,
      directionNav: true,
      controlNav: "thumbnails",
      move: 1,
      slideshowSpeed: 5000,         
      asNavFor: '#slider'
  });
 
  
  // Testimonial slider
  $('.flexslider2').flexslider({
      animation: "fade",
      animationLoop: true,
   //   smoothHeight: true,
      directionNav: true,
      controlNav: false,
      move: 1,
      slideshowSpeed: 5000,
      animationLoop: true,      
    });
  
  //Home products slider
  var window_width = $(window).width();
  function getGridSize() {
    return (window.innerWidth < 400) ? 2 :
    	   (window.innerWidth < 600) ? 2 :
           (window.innerWidth < 900) ? 3 :
    	   (window.innerWidth < 1025) ? 4 : 5;
  }
  
    $('.home-product-slider').flexslider({
      animation: "slide",
      animationLoop: true,
   //   smoothHeight: true,
      minItems: getGridSize(),      
      directionNav: true,
      controlNav: false,
      move: 1,
      slideshowSpeed: 3000,
      animationLoop: true,
      itemWidth: 257,
      itemMargin: 5
    });
  
  
});
$(window).resize(function() {
  if($(window).width() > 667){
  	$('.scroll-content').show();
  }
});
(function() {
 
  // store the slider in a local variable
  var $window = $(window),
      flexslider = { vars:{} };
  
  function getGridSize() {
    return (window.innerWidth < 400) ? 2 :
    	   (window.innerWidth < 600) ? 2 :
           (window.innerWidth < 900) ? 3 : 
    	   (window.innerWidth < 1025) ? 4 : 5;
  }
  
  // check grid size on resize event
  $window.resize(function() {
    var gridSize = getGridSize();
 
    flexslider.vars.minItems = gridSize;
    flexslider.vars.maxItems = gridSize;
  });
}());